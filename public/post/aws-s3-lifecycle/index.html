<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>S3の機能、ライフサイクルルールの使い方 - 塩と砂糖🍵</title>
    <meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<link rel="dns-prefetch preconnect" href="https://fonts.gstatic.com"  crossorigin>
<link rel="dns-prefetch preconnect" href="https://use.fontawesome.com"  crossorigin>
<meta name="theme-color" content="#263238">

<meta name="generator" content="Hugo 0.61.0" />

<link rel="apple-touch-icon" href="https://www.saltandsugar.tech/images/logo.png">




    
<meta name="description" content="S3で一定期間たったらファイルを削除、ストレージクラスを下げて低コスト化などをできるライフサイクルルールの使い方について解説。">

<meta property="og:title" content="S3の機能、ライフサイクルルールの使い方 - 塩と砂糖🍵">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.saltandsugar.tech/post/aws-s3-lifecycle/">
<meta property="og:image" content="https://www.saltandsugar.tech/images/AWS-Lifecycle.png">
<meta property="og:site_name" content="塩と砂糖🍵">
<meta property="og:description" content="S3で一定期間たったらファイルを削除、ストレージクラスを下げて低コスト化などをできるライフサイクルルールの使い方について解説。">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="塩と砂糖🍵">
<meta name="twitter:url" content="https://www.saltandsugar.tech/post/aws-s3-lifecycle/">
<meta name="twitter:title" content="S3の機能、ライフサイクルルールの使い方 - 塩と砂糖🍵">
<meta name="twitter:description" content="S3で一定期間たったらファイルを削除、ストレージクラスを下げて低コスト化などをできるライフサイクルルールの使い方について解説。">
<meta name="twitter:image" content="https://www.saltandsugar.tech/images/AWS-Lifecycle.png">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/www.saltandsugar.tech\/"
    },
    "headline": "S3の機能、ライフサイクルルールの使い方-塩と砂糖🍵",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/www.saltandsugar.tech\/images\/AWS-Lifecycle.png",
      "height": 800,
      "width": 800
    },
    "datePublished": "2019-03-21T12:34:59JST",
    "dateModified": "2020-01-06T12:40:49JST",
    "author": {
      "@type": "Person",
      "name": "塩と砂糖🍵"
    },
    "publisher": {
      "@type": "Organization",
      "name": "塩と砂糖🍵",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/www.saltandsugar.tech\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "S3で一定期間たったらファイルを削除、ストレージクラスを下げて低コスト化などをできるライフサイクルルールの使い方について解説。"
  }
</script>



    <link rel="canonical" href="https://www.saltandsugar.tech/post/aws-s3-lifecycle/">
    
    <link href="https://fonts.googleapis.com/css?family=Lobster%7cLato:400,700" rel="stylesheet">
    
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-color/2.1.2/jquery.color.js"></script>
    
    <link rel="stylesheet" href="" id="JSChange">
    <script src="/js/color.min.js"></script>
    <script>CSSload()</script>

    <style>
/*多色の中は常にライトテーマ*/
:root {
  /*カラーデザイン:https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/color/*/
  /*ダークテーマ*/
    /* 単色 */
    --Dark-Gray:rgb(142,142,147);
    --Dark-Gray-2:rgb(99,99,102);
    --Dark-Gray-3:rgb(72,72,74);
    --Dark-Gray-4:rgb(58,58,60);
    --Dark-Gray-5:rgb(44,44,46);
    --Dark-Gray-6:rgb(28,28,30);
    /* 多色 */
    --Dark-Blue:rgb(10,132,255);
    --Dark-Green:rgb(48,209,88);
    --Dark-Indigo:rgb(94,92,230);
    --Dark-Orange:rgb(255,159,10);
    --Dark-Pink:rgb(255,55,95);
    --Dark-Purple:rgb(191,90,242);
    --Dark-Red:rgb(255,69,58);
    --Dark-Teal:rgb(100,210,255);
    --Dark-Yellow:rgb(255,214,10);
  /*ライトテーマ*/
    /* 単色 */
    --Light-Gray:rgb(142,142,147);
    --Light-Gray-2:rgb(174,174,178);
    --Light-Gray-3:rgb(199,199,204);
    --Light-Gray-4:rgb(209,209,214);
    --Light-Gray-5:rgb(229,229,234);
    --Light-Gray-6:rgb(242,242,247);
    /* 多色 */
    --Light-Blue:rgb(0,122,255);
    --Light-Green:rgb(52,199,89);
    --Light-Indigo:rgb(88,86,214);
    --Light-Orange:rgb(255,149,0);
    --Light-Pink:rgb(255,45,85);
    --Light-Purple:rgb(175,82,222);
    --Light-Red:rgb(255,59,48);
    --Light-Teal:rgb(90,200,250);
    --Light-Yellow:rgb(255,204,0);
}
html {
  font-size: 18px;
  /*background-color: var(--Dark-Gray-5);*/
}

@media (max-width: 768px) {
  html {
    font-size: 15px;
  }
}

body {
  /*color: #fff;*/
  font-family: 'Hiragino Kaku Gothic Pro',メイリオ,Meiryo,sans-serif,'Roboto Slab','ヒラギノ角ゴ Pro W3';
  font-feature-settings : "palt";
  font-size: inherit;
  line-height: 1rem;
  margin: 0;
  padding: 0;
}

h1, h2, h3, h4, h5 ,h6 {
  font-size: 1rem;
  font-weight: 700;
  line-height: 1rem;
  margin: 0;
}

hr {
  border: 0;
  border-top: 1px dashed #cfd8dc;
  margin: 1rem 0;
}

p {
  margin: 0;
  line-height: 1rem;
}

a {
  color: #c3ff36;
  text-decoration: none;
  transition-duration: .3s;
}
  article.sn a{
    text-decoration-line: underline;
    text-decoration-color: #fff;
  }

ul, ol {
  margin: 0;
  padding: 0;
}

table {
  border-collapse: collapse;
  display: block;
  overflow-x: auto;
}

th, td {
  font-size: .8rem;
  padding: .5rem;
}

tr {
  border-bottom: 1px dashed #ddd;
}

/* Layouts */
main,
aside {
  display: block;
}

main { padding: 1rem 0 3rem 0; }
aside.h { padding: 3rem 0; }

main.f,
aside.f {
  background-color: #333;
  border-top: 2px dashed #fff;
  border-bottom: 2px dashed #fff;
}

.l-container {
  position: relative;
  max-width: 68rem;
  margin: 0 auto;
  padding: 0 1rem;
}

.l-container.thin {
  max-width: 44rem;
}

.l-header {
  /*background-color: var(--Dark-Gray-4);*/
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  padding: 1rem 0;
  text-align: center;
}

.l-header .description {
  margin-top: .5rem;
  font-size: .8rem;
}

.l-footer {
  /*background-color: var(--Dark-Gray-3);*/
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  font-size: .6rem;
  font-weight: 700;
  padding: 1rem 0;
}

@media (max-width: 768px) {
  .l-sidebar {
    margin-top: 4rem;
  }
}

.mrow {
  margin: 0 -1rem;
  overflow: hidden;
}

.mcol {
  box-sizing: border-box;
  float: left;
  padding: 0 1rem;
}

.c6 { width: 50%; }
.c4 { width: 33.26323833%; }
.c8 { width: 66.66666%; }

@media (max-width: 768px) {
  .mcol {
    width: 100%;
    float: none;
  }
}
.logo{
  display: inline-block;
	perspective: 1000px;
	perspective-origin: 50% 50%;
	vertical-align: bottom;
	overflow: hidden;
}
  .logo a {
    font-size: 1.4rem;
    line-height: 1.5rem;
    font-weight: 700;
    /*color: #fff;*/
    /*  */
    display: inline-block;
    position: relative;
    padding: 0.1em 0.3em;
    transition: .4s;
    transform-origin: 50% 0%;
    transform-style: preserve-3d;
    /*  */
  }
    .logo a:after {
      display: inline-block;
      position: absolute;
      padding: 0.1em 0.3em;
      left: 0;
      top: 0;
      content: attr(data-text);
      color: #fff;
      background-color: #00ACC1;
      transform-origin: 50% 0%;
      transform: translate3d(0, 105%, 0) rotateX(-90deg);
    }
    .logo:hover a {
      background-color: #00ACC1;
      transform: translate3d(0, 0, -30px) rotateX(90deg);
    }

.articles {
  margin: -1rem 0;
  margin-bottom: 1rem;
}

.articles.sm {
  margin: -.5rem 0;
  margin-bottom: 0;
}

article {
  border-radius: 4px;
  overflow: hidden;
}

article.li {
  /* background-color: rgba(99,99,102); */
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  height: 20rem;
  overflow: hidden;
  margin: 1rem 0;
}
article.li > a {
  display: block;
  color: #fff;
}

article.li .inner {
  padding: 1rem;
}

article.li .thumb {
  height: 8rem;
}

article.li .title {
  color: #fff;
  font-size: 1.2rem;
  line-height: 1.5rem;
  margin-bottom: .5rem;
}

article.li .summary {
  font-size: .8rem;
  height: 6rem;
  overflow: hidden;
  margin-top: 1rem;
}

article.li .summary::after {
  content: '...';
}

article.lism {
  /*background-color: var(--Dark-Gray-3);*/
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  margin: .5rem 0;
}

article.lism::after {
  content: '';
  display: block;
  clear: both;
}

article.lism > a {
  display: block;
  /*color: #fff;*/
}

article.lism .inner {
  display: table-cell;
  vertical-align: middle;
  height: 5rem;
  padding: 0 .75rem;
}

article.lism .thumb {
  width: 5rem;
  height: 5rem;
  float: left;
}

article.lism .title {
  font-weight: 700;
  font-size: .8rem;
  margin-bottom: .25rem;
}

article.sn {
  /*background-color: rgba(99,99,102);*/
  color: #ffffff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  margin-bottom: 1rem;
}

article.sn .thumb {
  height: 20rem;
}

@media (max-width: 768px) {
  article.sn .thumb {
    height: 10rem;
  }
}

article.sn > .article-header,
article.sn > .article-body,
article.sn .article-footer {
  padding: 2rem;
}

article.sn > .article-body {
  padding: 0 2rem;
}

@media (max-width: 768px) {
  article.sn > .article-header,
  article.sn > .article-body,
  article.sn .article-footer {
    padding: 1rem;
  }

  article.sn > .article-body {
    padding: 0 1rem;
  }
}

article.sn > .article-header .title {
  font-size: 1.8rem;
  line-height: 2rem;
  margin-bottom: .5rem;
}

@media (max-width: 768px) {
  article.sn > .article-header .title {
    font-size: 1.4rem;
    line-height: 1.5rem;
  }
}

article.sn > .article-header .facts {
  margin-bottom: 1rem;
}

article.sn > .article-body {
  margin-bottom: 1.5rem;
}

article.sn > .article-body h2 {
  border-bottom: .25rem solid var(--Light-Gray-5);
  font-size: 1.2rem;
  line-height: 1.5rem;
  margin: 1.5rem 0;
  padding: .5rem 0;
}

article.sn > .article-body h3 {
  border-left: .5rem solid var(--Light-Gray-4);
  line-height: 1.5rem;
  margin: 1.5rem 0;
  padding: .125rem .5rem;
}

article.sn > .article-body ul,
article.sn > .article-body ol {
  margin: 1.5rem 0;
  padding-left: 1.5rem;
}

article.sn > .article-body li {
  padding-bottom: .5rem;
  line-height: 1.5rem;
}

article.sn > .article-body li:last-child {
  padding-bottom: 0;
}
article.sn > .article-body p {
  margin: 1rem 0;
  line-height: 1.5rem;
}

article.sn > .article-body strong,
article.sn > .article-body em {
  font-style: normal;
  font-weight: 700;
}

article.sn > .article-body strong {
  box-shadow: 0 -.5rem 0 0 rgba(252, 255, 51, 0.51) inset;
}

article.sn > .article-body em {
  color: #8bc34a;
}

article.sn > .article-body code,
article.sn > .article-body pre {
  font-family: Menlo, Consolas, monospace;
  font-size: .7rem;
}
article.sn > .article-body pre {
  background-color: #333;
  color: #fff;
  line-height: 1rem;
  margin: 1.5rem -2rem;
  overflow: auto;
}

@media (max-width: 768px) {
  article.sn > .article-body pre {
    margin: 1.5rem -1rem;
  }
}

article.sn > .article-body pre > code {
  display: block;
  padding: 1rem 2rem;
}

@media (max-width: 768px) {
  article.sn > .article-body pre > code {
    padding: 1rem;
  }
}

article.sn > .article-body p code {
  background-color: #eceff1;
  color: #333;
  border-radius: 4px;
  margin: 0 .25rem;
  padding: .375rem;
  white-space: nowrap;
}

article.sn > .article-body blockquote {
  position: relative;
  border-left: .25rem solid #333;
  font-size: .8rem;
  padding: .125rem 1rem;
  margin: 1.5rem 0;
}

@media (max-width: 768px) {
  article.sn > .article-body blockquote {
    font-size: 1rem;
  }
}

article.sn > .article-body blockquote p {
  margin: .5rem 0;
  line-height: 1rem;
}

article.sn > .article-body figure {
  margin: 1.5rem 0;
}

article.sn > .article-body img,
article.sn > .article-body figure img,
article.sn > .article-body figure amp-img {
  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  max-width: 100%;
}

article.sn > .article-body figcaption {
  color: #cfd8dc;
  font-size: .8rem;
  font-weight: 700;
  margin-top: .5rem;
}

.facts li {
  display: inline;
  font-size: .8rem;
  margin-right: 1rem;
}

.facts i {
  color: #cfd8dc;
  margin-right: .5em;
}

.facts.sm li {
  font-size: .7rem;
}

.sections.sidebar {
  margin: -1rem 0;
}

.sections.footer {
  margin: -1rem 0;
}

section.sidebar {
  margin: 2rem 0;
}

section.sidebar > header {
  font-size: .8rem;
  font-weight: 700;
  letter-spacing: 4px;
  text-align: center;
  margin: 1.5rem 0;
}

section.footer {
  margin: 1rem 0;
}

section.footer > header {
  font-size: .8rem;
  margin: .5rem 0;
}

section.footer > header::before {
  content: "- ";
}

section.footer > header a {
  font-weight: 700;
  color: #fff;
  text-decoration: underline;
}

.terms {
  margin: -.25rem;
}

.terms li {
  display: inline-block;
}

.terms a {
  display: block;
  float: left;
  background-color: var(--Light-Gray);
  border-radius: 4px;
  color: #fff;
  font-size: .7rem;
  margin: .25rem;
  padding: 0 .75rem;
  line-height: 1.75rem;
}

.paging {
  text-align: center;
  padding: 1rem 0;
}

.paging a {
  display: inline-block;
  background-color: #fff;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  border-radius: 4px;
  color: #333;
  padding: 0 1rem;
  line-height: 3rem;
}

.page-title {
  text-align: center;
  margin: 1rem 0;
}

.page-title::after {
  content: '';
  display: block;
  border-bottom: .25rem solid #333;
  width: 3rem;
  margin: 1.5rem auto;
}

.page-title > .title {
  font-size: 1.2rem;
  line-height: 1.5rem;
}

/* Parts:breadcrumb */
.crumb ol {
  text-overflow: ellipsis;
  color: #cfd8dc;
  white-space: nowrap;
  overflow: hidden;
}

.crumb li {
  display: inline;
  font-size: .8rem;
}

.crumb li::after {
  content: '›';
  margin: 0 .25rem 0 .5rem;
}

.crumb li:last-child::after {
  content: '';
}

.crumb a {
  color: #cfd8dc;
}

.crumb i {
  margin-right: .5em;
}

.share {
  padding: 0;
}

.share a {
  display: inline-block;
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  min-width: 1rem;
  height: 2rem;
  border-radius: 4px;
  color: #ffffff;
  background-color: var(--Light-Gray);
  font-size: .8rem;
  font-weight: 700;
  line-height: 2rem;
  text-align: center;
  padding: 0 .5rem;
}

.adj article.lism {
  margin-bottom: 1rem;
}

.adj header {
  font-weight: 700;
  font-size: .8rem;
}

.toc {
  padding: 0 2rem;
}

@media (max-width: 768px) {
  .toc {
    padding: 0 1rem;
  }
}

.toc {
  margin: 1rem 0;
}

.toc nav>ul {
  background-color: #eceff1;
  border-radius: 4px;
  display: inline-block;
  font-size: .8rem;
  padding: .5rem 1rem;
  word-break: break-all;
  list-style: none;
}

.toc ul {
  padding: 0;
}

.toc ul ul {
  padding-left: 1rem;
}

.toc ul ul ul {
  padding-left: 1rem;
}

.toc li {
  color: #90a4ae;
}

.toc ul ul>li {
  font-weight: 700;
  margin: .5rem 0;
  list-style-type: decimal;
}

.toc ul ul ul>li {
  list-style-type: disc;
  font-weight: 500;
}
  .toc nav > ul a{
    color: #2196f3!important;
   }

.author {
  /*background-color: var(--Dark-Gray-3);*/
  box-shadow: 0 0 0 1px rgba(63,63,68,.05), 0 1px 3px rgba(63,63,68,.1), 0 1px 2px rgba(0,0,0,.05);
  padding: 1rem;
  border-radius: 4px;
  text-align: center;
}

.author .author-thumb {
  margin: 0 auto 1rem;
  width: 6rem;
  height: 6rem;
  border-radius: 50%;
  background-color: #eceff1;
  background-size: cover;
  background-position: center;
}

.author .author-name {
  margin-bottom: .5rem;
  font-weight: 700;
}

.author .author-facts {
  margin-bottom: 1rem;
}

.author .author-facts li {
  display: inline;
}

.author .author-facts li a {
  display: inline-block;
  background-color: #eceff1;
  width: 1.75rem;
  height: 1.75rem;
  line-height: 1.75rem;
  text-align: center;
  color: #333;
  font-size: .8rem;
  border-radius: 2px;
}

.author .author-facts li a:hover {
  color: #fff;
  background-color: #333;
}

.author .author-description {
  text-align: left;
  font-size: .8rem;
}

.author .author-description p {
  margin: .5rem 0;
}

.thumb {
  background-image: url(https://www.saltandsugar.tech/images/default.jpg);
  background-size: cover;
  background-position: center;
}



.thumb-ac9114c65c5b00c37f09ea2eb0e08662 {
  background-image: url(https://www.saltandsugar.tech/images/VSCode-TM/thumbnail.png);
}



.thumb-645043927a1253cd12767a68351bdc64 {
  background-image: url(https://www.saltandsugar.tech/images/jsoup/thumbnail.png);
}



.thumb-b6238aa39b3535f64bd0f76ae08147a6 {
  background-image: url(https://www.saltandsugar.tech/images/eclipse-modulesystem-classpath-what/thumbnail.png);
}



.thumb-98ab884c8e9d43074113dbdde66fecd8 {
  background-image: url(https://www.saltandsugar.tech/images/Adsense%21%21%21%21%21.jpg);
}



.thumb-4da84023690dc38d72b72a9a17708ebd {
  background-image: url(https://www.saltandsugar.tech/images/AWS-Lifecycle.png);
}



.thumb-4ad5a23cc45c1fb8eec68ceaaa95125b {
  background-image: url(https://www.saltandsugar.tech/images/lets-get-arrested-thumbnail.png);
}



.thumb-26ee99a8f5f433dae35d70c423bedfa1 {
  background-image: url(https://www.saltandsugar.tech/images/what-thumbnail.jpg);
}








 .h-logo { font-family: Lobster, cursive; } 
    </style>

  </head>
  <body>
    <header class="l-header">
      <div class="l-container">
        <div class="logo">
          <a href="https://www.saltandsugar.tech/" data-text="塩と砂糖🍵">塩と砂糖🍵</a>
        </div>
        
<div class="description">
  所詮は中学生が書いたブログ
</div>


      </div>
    </header>
    <main>
      <div class="l-container">
        
<div class="mrow">
  <div class="mcol c8">

    <article class="sn">

  <div class="thumb thumb-4da84023690dc38d72b72a9a17708ebd"></div>

  <header class="article-header">
    <h1 class="title">S3の機能、ライフサイクルルールの使い方</h1>

    <ul class="facts">
      <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="2019-03-21T12:34:59JST">Mar 21, 2019</time></li>
      <li><i class="fas fa-sync" aria-hidden="true"></i><time datetime="2020-01-06T12:40:49JST">Jan 6, 2020</time></li>
      <li><i class="fas fa-bookmark" aria-hidden="true"></i><a href="https://www.saltandsugar.tech/post/">POST</a></li>
      
    </ul>

    <aside class="share">
  <a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&title=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="はてなブックマーク" class="ht" target="_blank" rel="nofollow">B!</a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&text=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9&tw_p=tweetbutton" title="Twitterでシェア" class="tw" target="_blank" rel="nofollow"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&t=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="Facebookでシェア" class="fb" target="_blank" rel="nofollow"><i class="fab fa-facebook" aria-hidden="true"></i></a>
  <a href="https://getpocket.com/edit?url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&title=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="Pocketに保存" class="pk" target="_blank" rel="nofollow"><i class="fab fa-get-pocket" aria-hidden="true"></i></a>
</aside>

  </header>

  
  <div class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#heading">大量に発生する通信ログにうんざりですか？</a>
      <ul>
        <li><a href="#heading-1">ライフサイクルとは</a></li>
      </ul>
    </li>
    <li><a href="#heading-2">オブジェクトに寿命を与える。</a>
      <ul>
        <li><a href="#heading-3">この画面まで来る</a></li>
        <li><a href="#heading-4">そしておもむろに"管理"タブをクリック</a></li>
        <li><a href="#heading-5">ライフサイクルルールを追加を押してごにょごにょ。</a></li>
        <li><a href="#heading-6">無視する。</a></li>
        <li><a href="#heading-7">設定する！</a></li>
        <li><a href="#heading-8">解説:</a></li>
        <li><a href="#heading-9">確認！！！！！</a></li>
      </ul>
    </li>
    <li><a href="#heading-10">オブジェクトに生き様を与える。</a>
      <ul>
        <li><a href="#heading-11">編集画面まで戻る</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
  

  <div class="article-body"><h2 id="heading">大量に発生する通信ログにうんざりですか？</h2>
<p>S3の機能の一つ<strong>ライフサイクルルール</strong>を使いましょう！！</p>
<h3 id="heading-1">ライフサイクルとは</h3>
<p>こういう系は言葉の意味を理解するのが地味に重要な気がしてるから載せる</p>
<blockquote>
<p>ライフサイクル（英: life cycle）は、人生の経過を円環に描いて説明したもの。精神分析家で発達心理学者のエリク・H・エリクソンが、その著『ライフサイクル　その完結』で取り上げてから、この言葉が浸透するようになった。近代の始めあたりまで、洋の東西を問わず、人の一生を図解で説明するのに使われるのは、太鼓橋、もしくは階段状の乗降台のようなスタイルだった。これで、人生前半の成長と、後半の老化を説明したものである。それは、今で言うライフスパンにあたる。
ー <a href="https://ja.wikipedia.org/wiki/%E3%83%A9%E3%82%A4%E3%83%95%E3%82%B5%E3%82%A4%E3%82%AF%E3%83%AB">Wikipedia</a></p>
</blockquote>
<p><strong>生き様</strong>みたいな意味ですかね？</p>
<p>簡単に言うと、この機能はファイルに寿命を与える機能です。 <strong>寿命を過ぎると削除もしくは移動をすることができます。</strong> そうすることによって&quot;無駄にファイル(今回はアクセスログ)が溜まって料金を請求される。&ldquo;なんてことが無くなります。</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="heading-2">オブジェクトに寿命を与える。</h2>
<p>一番簡単な奴です。</p>
<h3 id="heading-3">この画面まで来る</h3>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-s3.png" alt="ここ">
  
  <figcaption>
    
    ここ
    
  </figcaption>
  
</figure>

<h3 id="heading-4">そしておもむろに&quot;管理&quot;タブをクリック</h3>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-managementroom.png" alt="こんな感じ">
  
  <figcaption>
    
    こんな感じ
    
  </figcaption>
  
</figure>

<h3 id="heading-5">ライフサイクルルールを追加を押してごにょごにょ。</h3>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control.png" alt="こんな感じ">
  
  <figcaption>
    
    こんな感じ
    
  </figcaption>
  
</figure>

<p><strong>ルール名</strong>:ルールの名前です。10年後でも機能が理解できる名前なら何でもいいです</p>
<p><strong>フィルターを追加してプレフィックス/タグのみを対象にする</strong>:特定のファイルの下だけにライフサイクルルールを適用させたい時に使う。</p>
<p>入力例:</p>
<pre><code>すごいフォルダ/
</code></pre><p>これを入力するだけで<code>すごいフォルダ/</code>より下の方がライフサイクルの設定の適用範囲となります。</p>
<p>こっちは今回は使いません。</p>
<h3 id="heading-6">無視する。</h3>
<p><strong>無視する。</strong>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control2.png" alt="**無視**">
  
  <figcaption>
    
    **無視**
    
  </figcaption>
  
</figure>

(<a href="https://www.saltandsugar.tech/post/aws-s3-lifecycle/#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AB%E7%94%9F%E3%81%8D%E6%A7%98%E3%82%92%E4%B8%8E%E3%81%88%E3%82%8B">次の奴で</a>使う)</p>
<h3 id="heading-7">設定する！</h3>
<p><strong>ここ重要！！</strong></p>
<p>とりあえず下の画像な感じにしましょう、後で解説します。</p>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control3.png" alt="こんな感じにしとけばいい">
  
  <figcaption>
    
    こんな感じにしとけばいい
    
  </figcaption>
  
</figure>

<h3 id="heading-8">解説:</h3>
<p><strong>現行バージョン・前のバージョン</strong>:そのまんま。今あるものが現行バージョン。昔作ってたけど今のバージョンに上書きされてしまったのが前のバージョン。(まぁS3とかCloudfrontのログは上書きせずそのまんま突っ込んでくるんで関係ないです。一応両方オン。両方同じ。)</p>
<p>余談:なんか<a href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/user-guide/create-lifecycle.html">AWSのドキュメント</a>には不完全なマルチパートクリーンアップする&quot;が推奨されてるっぽいです。AWSのドキュメントってわかりにくいよな(僕だけ?)</p>
<h3 id="heading-9">確認！！！！！</h3>
<p><strong>下手なことしたらデータ消えます</strong></p>
<p>そしたら「保存」で前半終わり。</p>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-3443926296700450"
     data-ad-slot="4948785524"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2 id="heading-10">オブジェクトに生き様を与える。</h2>
<p><strong>お兄さん</strong>-&gt;<strong>お爺さん</strong></p>
<p>の様に</p>
<p><strong>標準ストレージ</strong>(結構アクセスしたりする物用)→<strong>低頻度アクセスストレージ</strong> (あんまりアクセスしない物用、価格が安い) →削除</p>
<p>みたいな感じにします。</p>
<h3 id="heading-11">編集画面まで戻る</h3>
<p><figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control4.png" alt="ここね">
  
  <figcaption>
    
    ここね
    
  </figcaption>
  
</figure>

もちろんボックス<strong>両方オン</strong>。</p>
<p>で、両方の<strong>以降を追加</strong>をクリック</p>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control6.png" alt="こんな感じ">
  
  <figcaption>
    
    こんな感じ
    
  </figcaption>
  
</figure>

<p>で、<strong>以降を選択する</strong>の中に選択肢が四つありますね。下に行けば保管コストは安くなります。その代わり諸々の制約があるので注意(ログを掘り返すなんてなかなか無いから一番したのでええやろ)</p>
<p><figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control7.png" alt="こんな感じ">
  
  <figcaption>
    
    こんな感じ
    
  </figcaption>
  
</figure>

低頻度アクセスより下からGB単位で取り出し料がかかるのは注意です。</p>
<figure>
  <img src="https://www.saltandsugar.tech/images/aws-s3-lifecycle-control8.png" alt="完成形">
  
  <figcaption>
    
    完成形
    
  </figcaption>
  
</figure>

<p>その後はまた<a href="https://saltandsugar.tech/post/aws-s3-lifecycle/#5-%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B">ここ</a>まで戻って、オブジェクトが移行された後何日で消去するか？を設定してやって下さい。</p>
</div>

  <footer class="article-footer">

    <aside class="share">
  <a href="https://b.hatena.ne.jp/add?mode=confirm&url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&title=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="はてなブックマーク" class="ht" target="_blank" rel="nofollow">B!</a>
  <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&text=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9&tw_p=tweetbutton" title="Twitterでシェア" class="tw" target="_blank" rel="nofollow"><i class="fab fa-twitter" aria-hidden="true"></i></a>
  <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&t=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="Facebookでシェア" class="fb" target="_blank" rel="nofollow"><i class="fab fa-facebook" aria-hidden="true"></i></a>
  <a href="https://getpocket.com/edit?url=https%3a%2f%2fwww.saltandsugar.tech%2fpost%2faws-s3-lifecycle%2f&title=S3%e3%81%ae%e6%a9%9f%e8%83%bd%e3%80%81%e3%83%a9%e3%82%a4%e3%83%95%e3%82%b5%e3%82%a4%e3%82%af%e3%83%ab%e3%83%ab%e3%83%bc%e3%83%ab%e3%81%ae%e4%bd%bf%e3%81%84%e6%96%b9" title="Pocketに保存" class="pk" target="_blank" rel="nofollow"><i class="fab fa-get-pocket" aria-hidden="true"></i></a>
</aside>


    <section class="footer">
      <div>
        <nav class="crumb">
          <ol>
            <li><a href="https://www.saltandsugar.tech/"><i class="fas fa-home" aria-hidden="true"></i>TOP</a></li>
            
            <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://www.saltandsugar.tech/post/" itemprop="url"><span itemprop="title">POST</span></a></li>
            
            <li class="active">S3の機能、ライフサイクルルールの使い方</li>
          </ol>
        </nav>
      </div>
    </section>

    
    
  </footer>

</article>


    <div class="adj">
      <div class="mrow">
        
        <div class="mcol c6">
          <header>Previous Article</header>
          <article class="lism">
  <a href="https://www.saltandsugar.tech/post/taihotokenkyo/">
    <div class="thumb thumb-4ad5a23cc45c1fb8eec68ceaaa95125b"></div>

    <div class="inner">
      <div class="title">[必見](日本で)逮捕、検挙される方法！</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="19007-03-19T17:00:00JST">Mar 19, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

        </div>
        
        
        <div class="mcol c6">
          <header>Next Article</header>
          <article class="lism">
  <a href="https://www.saltandsugar.tech/post/adsense-pass-examination/">
    <div class="thumb thumb-98ab884c8e9d43074113dbdde66fecd8"></div>

    <div class="inner">
      <div class="title">AdSense受かったので設置しました！</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="25007-03-25T14:24:25JST">Mar 25, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

        </div>
        
      </div>
    </div>

    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "saltandsugar" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
  <div class="mcol c4">
    <aside class="l-sidebar">

  <div class="sections sidebar">
    
<section class="sidebar">
  <header>AUTHOR</header>
  <div>
    <div class="author">
      
      <div class="author-thumb" style="background-image: url(https://www.saltandsugar.tech/images/author.jpg);"></div>
      
      <div class="author-name">mira_tech</div>
      <ul class="author-facts">
        
        <li><a href="https://twitter.com/mira_tech" rel="nofollow" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
        <li><a href="https://github.com/mira-tech" rel="nofollow" target="_blank"><i class="fab fa-github" aria-hidden="true"></i></a></li>
      </ul>
      <div class="author-description"><p>中学生。普通の中学生よりいろんなことして遊んでる。このブログとこの人については<a href='/about/what'>こちら</a>。</p></div>
    </div>
  </div>
</section>


    <section class="sidebar">
  <header>LATESTS</header>
  <div>
    <div class="articles sm">
      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/vscode-tm/">
    <div class="thumb thumb-ac9114c65c5b00c37f09ea2eb0e08662"></div>

    <div class="inner">
      <div class="title">VSCodeのロゴに商標権、著作権あるの？</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="21007-09-21T12:40:49JST">Sep 21, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/jsoup/">
    <div class="thumb thumb-645043927a1253cd12767a68351bdc64"></div>

    <div class="inner">
      <div class="title">JavaでHTMLバースしてみる。(Jsoupの使い方)</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="26007-05-26T00:00:00JST">May 26, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/eclipse-modulesystem-classpath-what/">
    <div class="thumb thumb-b6238aa39b3535f64bd0f76ae08147a6"></div>

    <div class="inner">
      <div class="title">eclipseのモジュールパスとクラスパスってなんだコレ。案の定エラー</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="11007-05-11T22:03:11JST">May 11, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/adsense-pass-examination/">
    <div class="thumb thumb-98ab884c8e9d43074113dbdde66fecd8"></div>

    <div class="inner">
      <div class="title">AdSense受かったので設置しました！</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="25007-03-25T14:24:25JST">Mar 25, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/aws-s3-lifecycle/">
    <div class="thumb thumb-4da84023690dc38d72b72a9a17708ebd"></div>

    <div class="inner">
      <div class="title">S3の機能、ライフサイクルルールの使い方</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="21007-03-21T12:34:59JST">Mar 21, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/post/taihotokenkyo/">
    <div class="thumb thumb-4ad5a23cc45c1fb8eec68ceaaa95125b"></div>

    <div class="inner">
      <div class="title">[必見](日本で)逮捕、検挙される方法！</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="19007-03-19T17:00:00JST">Mar 19, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>POST</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/about/what/">
    <div class="thumb thumb-26ee99a8f5f433dae35d70c423bedfa1"></div>

    <div class="inner">
      <div class="title">なにこのブログ！　なにこの人！？？！？！？？！</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="25007-02-25T17:00:00JST">Feb 25, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>ABOUT</li>
        
      </ul>

    </div>
  </a>
</article>

      
      <article class="lism">
  <a href="https://www.saltandsugar.tech/privacy/mensekiprivacy/">
    <div class="thumb thumb-7564bc6bd2b29107f22e916ee90fab8d"></div>

    <div class="inner">
      <div class="title">免責事項とプライバシーポリシー</div>

      <ul class="facts sm">
        <li><i class="fas fa-calendar" aria-hidden="true"></i><time datetime="24007-02-24T17:00:00JST">Feb 24, 2019</time></li>
        <li><i class="fas fa-bookmark" aria-hidden="true"></i>PRIVACY</li>
        
      </ul>

    </div>
  </a>
</article>

      
    </div>
  </div>
</section>

    

    

  </div>

</aside>

  </div>
</div>

      </div>
    </main>

    <footer class="l-footer">
      <div class="l-container">
        <p>Copyright &copy; 2020-2019, mira_tech.</p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p><a href="https://github.com/dim0627/hugo_theme_robust">Robust</a> designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>buttonSetting()</script>
    
     <script>OnloadPage()</script>
  </body>
</html>

